<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial: Comparative Analysis - Glycerol vs Cholesterol &mdash; transit v2.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'v2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="transit v2.0.0 documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">transit v2.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial-comparative-analysis-glycerol-vs-cholesterol">
<h1>Tutorial: Comparative Analysis - Glycerol vs Cholesterol<a class="headerlink" href="#tutorial-comparative-analysis-glycerol-vs-cholesterol" title="Permalink to this headline">¶</a></h1>
<p>To illustrate how TRANSIT works, we are going to go through a tutorial
where we analyze datasets of H37Rv M. tuberculosis grown on glycerol
and cholesterol.</p>
<div class="section" id="run-transit">
<h2>Run TRANSIT<a class="headerlink" href="#run-transit" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the directory containing the TRANSIT files, and run
TRANSIT:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">PATH</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">transit</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-the-annotation-file">
<h2>Adding the annotation file<a class="headerlink" href="#adding-the-annotation-file" title="Permalink to this headline">¶</a></h2>
<p>Before we can analyze datasets, we need to add an annotation file for
the organism corresponding to the desired datasets. Click on the file
dialog button, on the top of the TRANSIT window (see image below), and
browse and select the appropriate annotation file. Note: Annotation
files must be in &#8221;.prot_table&#8221; format, described above.</p>
<a class="reference internal image-reference" href="_images/transit_tutorial_annotation.png"><img alt="_images/transit_tutorial_annotation.png" class="align-center" src="_images/transit_tutorial_annotation.png" style="width: 600px;" /></a>
</div>
<div class="section" id="adding-the-control-datasets">
<h2>Adding the control datasets<a class="headerlink" href="#adding-the-control-datasets" title="Permalink to this headline">¶</a></h2>
<p>We want to analyze datasets grown in glycerol to those grown in
cholesterol. We are choosing the datasets grown in glycerol as the
&#8220;Control&#8221; datasets. To add these, we click on the control sample file
dialog (see image below), and select the desired datasets (one by
one). In this example, we have two replicates:</p>
<a class="reference internal image-reference" href="_images/transit_tutorial_control_datasets.png"><img alt="_images/transit_tutorial_control_datasets.png" class="align-center" src="_images/transit_tutorial_control_datasets.png" style="width: 600px;" /></a>
<p>As we add the datasets they will appear in the table in the Control
samples section. This table will provide the following statistics
about the datasets that have been loaded so far: Total Number of
Reads, Density, Mean Read Count and Maximum Count. These statistics
can be used as general diagnostics of the datasets.</p>
</div>
<div class="section" id="visualizing-read-counts">
<h2>Visualizing read counts<a class="headerlink" href="#visualizing-read-counts" title="Permalink to this headline">¶</a></h2>
<p>TRANSIT allows us to visualize the read-counts of the datasets we have
already loaded. To do this, we must select the desired datasets
(&#8220;Control+Click&#8221;) and then click on &#8220;View -&gt; Track View&#8221; in the menu
bar at the top of the TRANSIT window. Only those selected datasets
will be displayed:</p>
<a class="reference internal image-reference" href="_images/transit_dataset_track_view.png"><img alt="_images/transit_dataset_track_view.png" class="align-center" src="_images/transit_dataset_track_view.png" style="width: 600px;" /></a>
<p>This will open a window that allows that shows a visual representation
of the read counts at the TA sites throughout the genome. The scale of
the read counts can be set by changing the value of the &#8220;Max Read&#8221;
textbox on the right. We can browse around the genome by clicking on
the left and right arrowm, or search for a specific gene with the
search text box.</p>
<p>This window also allows us to save a .png image of the canvas for
future reference if desired (i.e. Save Img button).</p>
</div>
<div class="section" id="scatter-plot">
<h2>Scatter plot<a class="headerlink" href="#scatter-plot" title="Permalink to this headline">¶</a></h2>
<p>We can also view a scatter plot of read counts of two selected
datasets. To achieve this we select two datasets (using &#8220;Control +
Clicck&#8221;) and then clicking on &#8220;View -&gt; Scatter Plot&#8221; in the menu bar
at the top of the TRANSIT window.</p>
<a class="reference internal image-reference" href="_images/transit_dataset_scatter_graph.png"><img alt="_images/transit_dataset_scatter_graph.png" class="align-center" src="_images/transit_dataset_scatter_graph.png" style="width: 600px;" /></a>
<p>A new window will pop-up, show a scatter plot of both of the selected
datasets. This window contains controls to zoom in and out (magnifying
glass), allowing us to focus in on a specific area. This is
particularly useful when large outliers may throw off the scale of the
scatter plot.</p>
<div class="section" id="adding-the-experimental-datasets">
<h3>Adding the experimental datasets<a class="headerlink" href="#adding-the-experimental-datasets" title="Permalink to this headline">¶</a></h3>
<p>We now repeat the process we did for control samples, for the
experimental datasets that were grown on cholesterol. To add these, we
click on the experimental sample file dialog (see image below), and
select the desired datasets (one by one). In this example, we have
three replicates:</p>
<a class="reference internal image-reference" href="_images/transit_tutorial_experimental_datasets.png"><img alt="_images/transit_tutorial_experimental_datasets.png" class="align-center" src="_images/transit_tutorial_experimental_datasets.png" style="width: 600px;" /></a>
</div>
<div class="section" id="comparative-analysis-using-re-sampling">
<h3>Comparative analysis using Re-sampling<a class="headerlink" href="#comparative-analysis-using-re-sampling" title="Permalink to this headline">¶</a></h3>
<p>To compare the growth conditions and assess conditional essentiality,
we select &#8220;Resampling&#8221; from the list of methods in the drop-down menu
on the right side of the TRANSIT window:</p>
<a class="reference internal image-reference" href="_images/transit_resampling_options.png"><img alt="_images/transit_resampling_options.png" class="align-center" src="_images/transit_resampling_options.png" style="width: 600px;" /></a>
<p>This will populate the right side with options specific to the
Resampling method. In this case, we choose to proceed with the default
settings. However, we could have set a different number of samples for
the resampling method or chosen the &#8220;Adaptive Resampling&#8221; option if we
were interested in quicker results. See the description of the method
above for more information.</p>
<p>We click on the &#8220;Run Resampling&#8221; button to start the analysis. This
will take several minutes to finish. The progress bar will give us an
idea of how much time is left.</p>
</div>
<div class="section" id="viewing-resampling-results">
<h3>Viewing resampling results<a class="headerlink" href="#viewing-resampling-results" title="Permalink to this headline">¶</a></h3>
<p>Once TRANSIT finishes running, the results file will automatically be
added to the Results Files section at the bottom of the window/</p>
<p>This window allows us to track the results files that have been
created in this session. From here, we can display a volcano plot of
the resampling results by selecting the file from the list and
selecting the volcano option on the dropdown menu. This will
open a new window containing the figure:</p>
<a class="reference internal image-reference" href="_images/transit_result_volcano_graph.png"><img alt="_images/transit_result_volcano_graph.png" class="align-center" src="_images/transit_result_volcano_graph.png" style="width: 600px;" /></a>
<p>To view the actual results, we can open the file in a new window by
selecting it from the list and clicking on the &#8220;Display Table&#8221; button.</p>
<p>The newly opened window will display a table of the results. We can
sort the results by clicking on the column header. For example, to
focus on the genes that are most likely to be conditionally essential
between glycerol and cholesterol, we can click on the column header
labeled &#8220;q-value&#8221;, which represents p-values that have been adjusted
for multiple comparisons.
Sorting q-values in ascending order, we can see those genes which are
most likely to be conditionally essential on the top. A typical
threshold for significance is &lt; 0.05. We can use &#8220;Delta Sum&#8221; column to
see which conditions had the most read counts in a particular gene.
The sign of this value (+/-) lets us know on which condition the gene
is essential and which condition it is non-essential. The magnitude
lets us know how large the difference is. For example, glycerol kinase
(GlpK) is necessary for growth on glycerol but it is not expected to
be necessary when grown on another carbon source like cholesterol. We
confirm our expectations by noticing that the sum of read counts in
glycerol is only 22 reads (normalized), while there are a total of
2119 reads in cholesterol. The difference (2096) is positive, which
means it is necessary for growth in glycerol but not cholesterol.
Because we ran the resampling method with the &#8220;Histograms&#8221; options, we
also have the ability to view the histograms of permutation
differences for each of the genes by selecting a gene and right
clicking:</p>
<p>From this menu we can display the histogram, or view the read-counts
for that specific gene in Track View:</p>
<a class="reference internal image-reference" href="_images/transit_resampling_results.png"><img alt="_images/transit_resampling_results.png" class="align-center" src="_images/transit_resampling_results.png" style="width: 600px;" /></a>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/transit_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial: Comparative Analysis - Glycerol vs Cholesterol</a><ul>
<li><a class="reference internal" href="#run-transit">Run TRANSIT</a></li>
<li><a class="reference internal" href="#adding-the-annotation-file">Adding the annotation file</a></li>
<li><a class="reference internal" href="#adding-the-control-datasets">Adding the control datasets</a></li>
<li><a class="reference internal" href="#visualizing-read-counts">Visualizing read counts</a></li>
<li><a class="reference internal" href="#scatter-plot">Scatter plot</a><ul>
<li><a class="reference internal" href="#adding-the-experimental-datasets">Adding the experimental datasets</a></li>
<li><a class="reference internal" href="#comparative-analysis-using-re-sampling">Comparative analysis using Re-sampling</a></li>
<li><a class="reference internal" href="#viewing-resampling-results">Viewing resampling results</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/transit_comparative_tutorial.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">transit v2.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Michael A. DeJesus.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>